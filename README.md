# GAPinDNNs website

## Technical details

### Building

The website is based on *Jekyll*. To set up the build system, first install Jekyll as explained [here](https://jekyllrb.com/docs/installation/). Then, set up the build system by running

```bash
bundle install
```
inside the root of this repository `/`. To build the website, use

```bash
bundler exec jekyll serve --livereload
```

This will serve the website locally at `localhost:4000` by default.

### Adding a page

If it is not part of a Collection (see below), add it into the `_pages/`
folder. In order to link it from the navbar, add a corresponding entry inside
`_data/navigation.yml`.

### Styling content

In principle the site is build without any major framework, only [Bootstrap
5](https://getbootstrap.com/docs/5.3/getting-started/introduction/) is used for
components.

To make content reusable, use [layouts](https://jekyllrb.com/docs/layouts/)
(for whole pages, can be nested) or
[includes](https://jekyllrb.com/docs/includes/) for elements like the
publication or talk card. They can be found in `_layouts/` and `_includes/`,
respectively.

If you need to define your own CSS classes, use the `_sass/main.scss` file.
SCSS variables should be defined inside `_sass/_custom_variables.scss`.

### Content dependent rendering

Control flow / dynamic content inside layouts can be achieved by
[Liquid](https://jekyllrb.com/docs/liquid/). Note that its capabilities are
quite limited but have a look at e.g. the publications page or member page

### data files and collections

[Collections](https://jekyllrb.com/docs/collections/) are useful if you have
many objects following the same structure which might become there own page
eventually and contain larger chunks of markdown content. Right now we use it
for example for the members. They can provide frontmatter in the `.yml` format
to add additional structured data. They are located inside `collections/`

[Data files](https://jekyllrb.com/docs/datafiles/) are `.yml` files structuring
data that can essentially do the same as the frontmatter of collections. But we
prefer it if there is no significant content section. They are located inside
`_data/`

## How To

The following describes briefly how to keep the website up-to-date. If you make larger changes, use the instructions above to build the website locally and see changes live. When you are ready to publish your updates, push them to the `master` branch of the GitHub repository.

### Add publication

Publications are `.yml` files in the directory `_data/publications`. To add a publication, copy one of the existing publications and change the data accordingly. The file name does not matter. Be careful to get the number of spaces right.

Note that the `ST`-tag is special: It signifies a string theory paper which will not show up in the central publication list. Instead, it will only show up under a new section *String Theory Publications* of the member pages of the authors.

There is a Python script `json_to_yaml.py` in `_data/publications` to convert JSON-files generated by the export function of Zotero (use *CSL JSON*) into YAML files to quickly add many publications.

### Add Talk

Talks are `.yml` files in the directory `_data/talks`. To add a talk, copy one of the existing talks and change the data accordingly. The file name convention is `YYYY-MM-DD-firstname-lastname.yml`. Be careful to get the number of spaces right. You can add additional material like `slides`, `video` and `notes` by setting a corresponding tag to the path in `donwloads/...` or linking to an external website.


### Add news

News are collected in the file `_data/news.yml`. Copy one of the old news entries to create a new one and adjust the content accordingly. Make sure to get the number of spaces right. News older than three months are hidden.

### Add seminar talk

Talks are `.yml` files in the directory `_data/seminar_talks`. To add a talk, copy one of the existing talks and change the data accordingly. The file name convention is `YYYY-MM-DD_firstname_lastname.yml`. Be careful to get the number of spaces right.

Talks are sorted into upcoming and past automatically based on the talk date.

### Update group member page

Group member pages are markdown files in `collections/_members`. The top of the page contains some meta-data like email address, path to image file etc. Images are stored in `assests/images/profile_pictures`. Below this block, you can add any content you like in markdown syntax.

### Add downloadable files

Downloadable files should be stored in the `downloads/` directory with appropriate subdirectories. The files can then be linked e.g. in the `slides` field for talks or at other places using the path `/downloads/...`.

### Add images

Upload the file in the folder `assets/images/` with corresponding subdirectories if appropriate. They can then be linked using the path `/assets/images/...`, e.g. for the `blackboard-image` field in the member file.

### Add master project

Master projects are collected in `_data/master_projects.yml`. Copy one of the old master project entries to create a new one and adjust the content accordingly. Make sure to get the number of spaces right. Theses are stored in the directory `downloads/master_theses` and descriptions in `downloads/master_theses/project_description`.

### Add external collaborator

For frequent external collaborators, it is nice to have their names in author lists etc. linked to their own website. This is achieved by adding them to the file `_data/external_collaborators.yml`.

### Add tag

Tags are used to categorize papers. They are collected in `_data/tags.yml`. Add an abbreviation which appears next to the papers and talks and a description which appears upon clicking on the abbreviation here. `ml-relevant` can be `true` or `false` and, if true, let's a publication containing such a tag appear on the common publication page. Note that the `ST` tag is used to filter string theory papers.


## To do

### Best done by Philipp

- **Include bibtex copy field.**
- Add pdf link to CV on member
- **Add first authors asterisks**
- Offer easy way to create extra pages with markdown and reasonable layout
- members page: add group picture
- News: change name of read more button, maybe make it collapsible, also set max heigth
- Add optional image to news
- 6 months cutoff for news

### Less technical, for Elias or Oscar
- Add office numbers to members
- structure members page with
    - previous members (not further categorized) without own individual page
- Tags should hover and link to main research page
- Add anchors to publications, talks etc. for member page

### Needs to be done by each member individually
- Member page: start with short introduction
- Add link to homepage on Chalmers's employees page for each member

